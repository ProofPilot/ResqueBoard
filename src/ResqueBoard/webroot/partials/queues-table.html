<div ng-controller="QueuesCtrl">
    <h2>Queues <span class="badge badge-info">{{length}}</span></h2>
    <table class="table table-condensed table-greyed" ng-hide="queues.length==0">
        <thead>
            <tr>
                <th class="name"><a href="" title="Sort by name" ng-click="predicate='name'; reverse=!reverse">Name</a></th>
                <th><a href="" title="Sort by pending jobs count" ng-click="predicate='stats.pendingjobs'; reverse=!reverse">Pending jobs</a></th>
                <th><a href="" title="Sort by total jobs count" ng-click="predicate='stats.totaljobs'; reverse=!reverse">Total jobs</a</th>
                <th><a href="" title="Sort by workers count" ng-click="predicate='stats.workerscount'; reverse=!reverse">Workers</a</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="queue in queues | orderBy:predicate:reverse">
                <td class="name">{{queue.name}}</td>
                <td>
                    <a href="/jobs/pending?queue={{queue.name|urlencode}}">{{queue.stats.pendingjobs|number}}</a>
                </td>
                <td>
                    <a href="/jobs/view?queue={{queue.name|urlencode}}">
                        <div style="position:relative;">
                            <span class="chart-bar" style="width:{{queue.stats.totaljobsperc}}%"></span>
                            <b>{{queue.stats.totaljobs|number}}</b>
                        </a>
                    </div>
                </td>
                <td>{{queue.stats.workerscount}}</td>
            </tr>
        </tbody>
    </table>

    <div ng-show="queues.length==0" class="knight-unit smaller"><p class="tagline"><i class="icon-align-left icon"></i> No queues yet</p></div>
</div>